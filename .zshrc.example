# Required by the oh-my-zsh 'git' plugin
# Adds a significant amount of time to shell startup
# autoload -Uz compinit
# compinit

source "${HOME}/.zgen/zgen.zsh"
# if the init scipt doesn't exist
if ! zgen saved; then

  # Include default modules:
  # environment
  # terminal
  # editor
  # helper
  # history
  # directory
  # utility
  # completion
  # prompt
  zgen prezto

  # Extra modules
  zgen prezto git
  zgen prezto fasd
  zgen prezto history-substring-search

  # 3rd Party Modules
  zgen load brandon-fryslie/git-taculous-zsh-theme git-taculous
  zgen load rupa/z
  zgen load lukechilds/zsh-nvm
  zgen load zsh-users/zsh-syntax-highlighting
  zgen load zsh-users/zsh-autosuggestions
  zgen load zsh-users/zsh-completions
  zgen load zsh-users/zaw

  zgen load RallySoftware/oh-my-zsh-custom plugins/alm
  zgen load RallySoftware/oh-my-zsh-custom plugins/appsdk
  zgen load robbyrussell/oh-my-zsh plugins/docker
  zgen load RallySoftware/oh-my-zsh-custom plugins/docker-alm
  zgen load RallySoftware/oh-my-zsh-custom plugins/emacs
  zgen load RallySoftware/oh-my-zsh-custom plugins/realtime

  # Requires compinit to be called above
  # zgen load RallySoftware/oh-my-zsh-custom plugins/git

  zgen save
fi

# Colors
zstyle ':prezto:*:*' color 'yes'
zstyle ':completion:*:default' list-colors ''
export CLICOLOR=1
export LSCOLORS=gxfxcxdxbxegedabagacad

# Enable prompts in git-taculous theme
ENABLE_NODE_PROMPT=true
ENABLE_DOCKER_PROMPT=true

# Share history between terminal windows
setopt inc_append_history
setopt share_history

# Configure Zaw
bindkey '^X' zaw
bindkey '^R^R' zaw-history
bindkey "^e" accept-line
zstyle ':filter-select' max-lines 10
zstyle ':filter-select' max-lines -10
zstyle ':filter-select' hist-find-no-dups yes
zstyle ':filter-select' extended-search yes
zstyle ':filter-select' case-insensitive yes
zstyle ':filter-select' rotate-list yes
zstyle ':filter-select:highlight' selected fg=cyan,underline
zstyle ':filter-select:highlight' matched fg=yellow
zstyle ':filter-select:highlight' title fg=yellow,underline
